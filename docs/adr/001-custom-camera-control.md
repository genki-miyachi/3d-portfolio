# ADR-001: ScrollControls を廃止し自前カメラ制御に移行

## Status

Accepted

## Context

当初、`@react-three/drei` の `ScrollControls` を使ってスクロール連動のカメラ移動を実装していた。
`ScrollControls` は `<Scroll>` 内のオブジェクトに対して自動的に Y 軸方向の移動を適用する仕組みで、
シンプルなスクロール体験には便利だが、以下の問題が発生した。

### 問題

1. **二重移動**: `<Scroll>` 内に配置した 3D オブジェクト（パーティクル等）がスクロールに連動して Y 移動する一方、カメラも移動するため、意図しない二重移動が発生
2. **カメラパスの自由度**: `ScrollControls` はスクロール量に対して線形な Y 移動しかできず、3D 空間内を自由に飛び回るカメラパスが表現できない
3. **セクション単位の制御**: メニュー選択によるセクション切り替え（離散的なカメラ移動）と、スクロールによる連続的なカメラ移動を両立しづらい

## Decision

`ScrollControls` を廃止し、以下のアーキテクチャに変更する:

- **3D オブジェクトは `<Scroll>` の外**: パーティクル、グリッド、カメラリグは Canvas 直下に配置
- **`CameraRig` コンポーネント**: `activeSection` props で目標位置を受け取り、`useFrame` 内で `lerp` によるスムーズ遷移
- **キーフレーム配列**: カメラ位置を配列で定義し、セクションインデックスで参照
- **マウスパララックス**: `smoothPointer` で追従し、カメラ位置と lookAt に加算

```
CameraRig
  ├─ cameraPositions[] — セクションごとの目標座標
  ├─ orbitAngle — 時間経過でゆっくり回転
  ├─ smoothPointer — マウス位置の滑らか追従
  └─ useFrame() — lerp で全てをブレンド
```

## Consequences

### Positive

- カメラの軌道が完全に自由（XYZ 全軸 + 回転）
- メニュー選択（離散）とアニメーション（連続）の統一的な制御
- 3D オブジェクトのスクロール連動バグが消滅
- パララックスやオービット回転を自然に組み込める

### Negative

- `ScrollControls` が提供していた HTML/3D 同期を自前で管理する必要がある
- カメラ位置のチューニングが手作業（キーフレーム値の調整）
